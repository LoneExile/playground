# base kube

## [cert-manager](https://cert-manager.io/docs/installation/#default-static-install)

```bash
kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.13.0/cert-manager.yaml
```

## [metallb](https://metallb.universe.tf/installation/#installation-by-manifest)

```bash
kubectl apply -f https://raw.githubusercontent.com/metallb/metallb/v0.13.11/config/manifests/metallb-native.yaml
```

## prometheus

```bash
git clone https://github.com/prometheus-operator/kube-prometheus.git
cd kube-prometheus
kubectl create -f manifests/setup
until kubectl get servicemonitors --all-namespaces ; do date; sleep 1; echo ""; done
kubectl create -f manifests/

```

## rook-ceph

```bash

## install rook-ceph
git clone --single-branch --branch v1.12.4 https://github.com/rook/rook.git
cd rook/deploy/examples
kubectl create -f crds.yaml -f common.yaml -f operator.yaml
kubectl create -f cluster.yaml
kubectl create -f toolbox.yaml

# kubectl create -f storageclass.yaml
# kubectl create -f filesystem.yaml
# kubectl create -f object.yaml
# kubectl create -f pool.yaml

## uninstall rook-ceph
kubectl delete -f crds.yaml -f common.yaml -f operator.yaml -f cluster.yaml -f toolbox.yaml -n rook-ceph
sudo rm -rf /var/lib/rook
```
